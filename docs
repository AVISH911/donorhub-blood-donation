# DonorHub Deployment Guide üöÄ

## Overview
This guide will help you deploy your DonorHub project globally so anyone can access it from anywhere in the world.

---

## üéØ What You're Deploying

1. **Frontend** (HTML/CSS/JS files in `blood_dona/` folder)
2. **Backend** (Node.js Express server in `backend/` folder)
3. **Database** (MongoDB Atlas - already cloud-hosted ‚úÖ)

---

## üì¶ PART 1: Deploy Backend (Node.js API)

### Option A: Deploy to Render (Recommended - FREE)

**1. Create Account:**
- Go to [render.com](https://render.com)
- Sign up with GitHub

**2. Prepare Backend:**
```bash
cd backend
npm install
```

**3. Create `render.yaml` in backend folder:**
```yaml
services:
  - type: web
    name: donorhub-api
    env: node
    buildCommand: npm install
    startCommand: node server.js
    envVars:
      - key: MONGODB_URI
        sync: false
      - key: EMAIL_USER
        sync: false
      - key: EMAIL_PASSWORD
        sync: false
```

**4. Deploy:**
- Click "New +" ‚Üí "Web Service"
- Connect your GitHub repository
- Select `backend` folder
- Add environment variables:
  - `MONGODB_URI`: Your MongoDB Atlas connection string
  - `EMAIL_USER`: Your email
  - `EMAIL_PASSWORD`: Your email app password
  - `PORT`: 5000
- Click "Create Web Service"

**5. Get Your API URL:**
- After deployment, you'll get a URL like: `https://donorhub-api.onrender.com`
- Save this URL!

---

### Option B: Deploy to Railway (Alternative - FREE)

**1. Create Account:**
- Go to [railway.app](https://railway.app)
- Sign up with GitHub

**2. Deploy:**
- Click "New Project" ‚Üí "Deploy from GitHub repo"
- Select your repository
- Railway auto-detects Node.js
- Add environment variables in Settings
- Deploy!

**3. Get Your API URL:**
- Copy the generated URL (e.g., `https://donorhub-api.up.railway.app`)

---

## üåê PART 2: Deploy Frontend (HTML/CSS/JS)

### Option A: Deploy to Vercel (Recommended - FREE)

**1. Create Account:**
- Go to [vercel.com](https://vercel.com)
- Sign up with GitHub

**2. Update API URLs in Frontend:**

Before deploying, update all `api-utils.js` files to use your deployed backend URL:

```javascript
// In blood_dona/api-utils.js
const API_CONFIG = {
    BASE_URL: 'https://donorhub-api.onrender.com/api', // Your backend URL
    TIMEOUT: 10000,
    HEADERS: {
        'Content-Type': 'application/json'
    }
};
```

**3. Create `vercel.json` in root:**
```json
{
  "version": 2,
  "builds": [
    {
      "src": "blood_dona/**",
      "use": "@vercel/static"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "/blood_dona/$1"
    }
  ]
}
```

**4. Deploy:**
- Click "Add New" ‚Üí "Project"
- Import your GitHub repository
- Root Directory: `blood_dona`
- Click "Deploy"

**5. Get Your Website URL:**
- You'll get a URL like: `https://donorhub.vercel.app`
- Share this with anyone!

---

### Option B: Deploy to Netlify (Alternative - FREE)

**1. Create Account:**
- Go to [netlify.com](https://netlify.com)
- Sign up with GitHub

**2. Create `netlify.toml` in root:**
```toml
[build]
  publish = "blood_dona"
  
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
```

**3. Deploy:**
- Drag and drop `blood_dona` folder to Netlify
- Or connect GitHub repository
- Deploy!

**4. Get Your Website URL:**
- You'll get: `https://donorhub.netlify.app`

---

### Option C: GitHub Pages (Simplest - FREE)

**1. Update API URL** (as shown above)

**2. Push to GitHub:**
```bash
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/YOUR_USERNAME/donorhub.git
git push -u origin main
```

**3. Enable GitHub Pages:**
- Go to repository Settings
- Pages section
- Source: Deploy from branch
- Branch: main
- Folder: `/blood_dona`
- Save

**4. Access Your Site:**
- URL: `https://YOUR_USERNAME.github.io/donorhub/`

---

## üîß PART 3: Final Configuration

### Update CORS in Backend

In `backend/server.js`, update CORS to allow your frontend domain:

```javascript
const cors = require('cors');

app.use(cors({
  origin: [
    'https://donorhub.vercel.app',  // Your Vercel URL
    'https://donorhub.netlify.app', // Your Netlify URL
    'http://localhost:3000',         // Local development
    'http://localhost:5000'          // Local development
  ],
  credentials: true
}));
```

### Update Frontend API URL

In `blood_dona/api-utils.js`:

```javascript
const API_CONFIG = {
    BASE_URL: 'https://your-backend-url.onrender.com/api',
    // Replace with your actual backend URL
};
```

---

## ‚úÖ Testing Your Deployment

**1. Test Backend:**
```bash
curl https://your-backend-url.onrender.com/api/health
```
Should return: `{"status":"ok","timestamp":...}`

**2. Test Frontend:**
- Visit your frontend URL
- Try registering as a donor
- Check MongoDB Atlas to see if data is saved

**3. Test Full Flow:**
- Register a user
- Login
- Create a blood request
- Check notifications
- Verify data in MongoDB Atlas

---

## üåç Your Deployed URLs

After deployment, you'll have:

- **Frontend:** `https://donorhub.vercel.app` (accessible worldwide)
- **Backend:** `https://donorhub-api.onrender.com` (API server)
- **Database:** MongoDB Atlas (already cloud-hosted)

**Anyone in the world can now:**
- Visit your website
- Register as donor/doctor
- Post blood requests
- View camps and notifications
- All data saves to your MongoDB Atlas database

---

## üí∞ Cost Breakdown

| Service | Free Tier | Limits |
|---------|-----------|--------|
| **Render** | ‚úÖ Free | 750 hours/month |
| **Vercel** | ‚úÖ Free | 100GB bandwidth |
| **MongoDB Atlas** | ‚úÖ Free | 512MB storage |
| **Total** | **$0/month** | Perfect for projects |

---

## üîí Security Checklist

Before deploying:

- [ ] Add `.env` to `.gitignore`
- [ ] Never commit passwords or API keys
- [ ] Use environment variables for secrets
- [ ] Enable CORS only for your domains
- [ ] Use HTTPS (automatic with Vercel/Render)
- [ ] Whitelist IP addresses in MongoDB Atlas (or use 0.0.0.0/0 for all)

---

## üÜò Troubleshooting

**Backend not connecting to MongoDB:**
- Check environment variables are set correctly
- Verify MongoDB Atlas IP whitelist includes 0.0.0.0/0
- Check connection string has correct password

**Frontend can't reach backend:**
- Verify API_CONFIG.BASE_URL is correct
- Check CORS settings in backend
- Ensure backend is running (check Render/Railway logs)

**Data not saving:**
- Check browser console for errors
- Verify backend logs
- Test API endpoints directly with curl/Postman

---

## üì± Share Your Project

Once deployed, share your website:

```
üåê Website: https://donorhub.vercel.app
üìß Email: your-email@example.com
üíª GitHub: https://github.com/your-username/donorhub
```

**Your project is now live and accessible globally!** üéâ

---

## üöÄ Next Steps

1. Deploy backend to Render
2. Deploy frontend to Vercel
3. Update API URLs
4. Test everything
5. Share with the world!

Need help? Check the logs in Render/Vercel dashboard or contact support.
